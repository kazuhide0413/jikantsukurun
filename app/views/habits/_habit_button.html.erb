<% completed = (@completed_habit_ids || []).include?(habit.id) %>

<%= link_to habit_path(habit),
    class: [
      "block w-full rounded-xl py-3 text-2xl font-medium shadow-sm transition-colors text-center [font-family:'Rounded_Mplus_1c-Regular',Helvetica]",
      completed ? "bg-gray-300 text-black cursor-not-allowed" : "bg-[#67c2fa] text-black hover:bg-[#4eb3f7]"
    ].join(" "),
    aria: { label: "#{habit.title}を#{completed ? '完了済み' : 'やった'}" },
    disabled: completed do %>

  <%= habit.title %>
  <% if completed %>
    <span class="ml-2 text-sm">✔ 完了</span>
  <% end %>

<% end %>
