<% completed = (@completed_habit_ids || []).include?(habit.id) %>

<% base = "block w-full rounded-xl py-3 text-2xl font-medium shadow-sm transition-colors text-center [font-family:'Rounded_Mplus_1c-Regular',Helvetica]" %>

<% if completed %>
  <span
    class="<%= [base, "bg-gray-300 text-black cursor-not-allowed"].join(' ') %>"
    aria-label="<%= "#{habit.title}を完了済み" %>">
    <%= habit.title %>
    <span class="ml-2 text-sm">✔ 完了</span>
  </span>
<% else %>
  <%= link_to habit_path(habit),
      class: [base, "bg-[#67c2fa] text-black hover:bg-[#4eb3f7]"].join(" "),
      aria: { label: "#{habit.title}をやった" } do %>
    <%= habit.title %>
  <% end %>
<% end %>
